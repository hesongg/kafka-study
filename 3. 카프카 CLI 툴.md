# 3. 카프카 CLI 툴
## 인프런 - "[아파치 카프카 애플리케이션 프로그래밍] 개념부터 컨슈머, 프로듀서, 커넥트, 스트림즈까지!" 를 보고 정리한 내용

<br>

### 카프카 커맨드 라인 툴

- 토픽이나 파티션 개수 변경과 같은 명령을 실행해야하는 경우 자주 발생
- 카프카 CLI 툴과 각 툴별 옵션에 대해 알고있어야 한다.
- 카프카의 명령어들은 관련 애플리케이션 개발 및 클러스터 운영 시 자주 쓰인다.
- CLI 툴을 통해 토픽 관련 명령을 실행할 때 필수 옵션과 선택 옵션이 있음
    - 선택 옵션은 지정하지 않을시 브로커에 설정된 기본 설정 값 또는 커맨드 라인 툴의 기본값으로 대체되어 설정된다.
    - 그러므로 CLI 툴을 사용하기 전에 현재 브로커에 옵션이 어떻게 설정되어 있는지 확인한 후에 사용하자.
    - ex) 특정 토픽에대해서 실제 사용할 파티션의 개수가 5개인데, 브로커의 설정된 기본 파티션 개수가 10개인데 토픽 생성시 옵션을 지정해주지 않으면 브로커 설정 값으로 파티션 10개 생성
        - 파티션 개수는 다시 줄이기 불가능하기때문에 문제가 될 수 있음
<br>

- 실행
    - 카프카 설치 및 config 설정 후, 설치 경로에서 주키퍼 실행 후 -> 카프카 실행
    - ```bin/zookeeper-server-start.sh config/zookeeper.properties```
    - ```bin/kafka-server-start.sh config/server.properties```
    
- 브로커 내부에 설정된 옵션 값 조회
    - ```bin/kafka-broker-api-versions.sh --bootstrap-server localhost:9092```
    
- 부트스트랩 서버의 토픽 리스트 조회
    - ```bin/kafka-topics.sh --bootstrap-server localhost:9092 --list```












